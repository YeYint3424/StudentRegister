<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">

<link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
<link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    rel="stylesheet">

<link
    href="http://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
    rel="stylesheet">
<link rel="stylesheet" href="css/custom.css">
<style>
    .search-bar {
        max-width: 300px; /* Adjust the width as desired */
        margin-bottom: 10px;
    }
</style>
<title>Admin-List</title>
</head>
<body class="img js-fullheight"
    style="background-image: url(images/mac.png);">
    <nav th:replace="~{admin/master :: nav}">
    </nav> 
    <div class="main">

        <h4>Admin-List</h4>    
        <br>

        <div class="form-group search-bar">
            <input type="text" id="searchInput" class="form-control" placeholder="Search">
        </div>

        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th scope="col">No.</th>
                    <th scope="col">UserID</th>
                    <th scope="col">Username</th>
                    <th scope="col">Email</th>
                </tr>
            </thead>
            <tbody>
                <th:block th:each="user, stat : ${users}">
                    <tr>
                        <td th:text="${stat.index + 1}"></td>
                        <td th:text="'Adm0' + ${user.id}"></td>
                        <td th:text="${user.username}"></td>
                        <td th:text="${user.email}"></td>
                    </tr>
                </th:block>
            </tbody>
        </table>
    </div>
        
    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
        crossorigin="anonymous"></script>
    <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {
            $(".delete-btn").click(function() {
                var userId = $(this).data("user-id");
                var confirmDelete = confirm("Are you sure you want to cancel?");
                if (!confirmDelete) {
                    return false; // Prevents following the link
                }
                // If the user confirmed, the link will be followed
            });

            $(".add-admin-btn").click(function() {
                var userId = $(this).data("user-id");
                var confirmAddAdmin = confirm("Are you sure you want to add this user as an admin?");
                if (!confirmAddAdmin) {
                    return false; // Prevents following the link
                }
                // If the user confirmed, the link will be followed
            });

            $('#searchInput').on('keyup', function() {
                var searchText = $(this).val().toLowerCase();
                $('tbody tr').filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(searchText) > -1);
                });
            });
        });
    </script>
</body>
</html>
